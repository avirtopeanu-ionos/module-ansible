- hosts: localhost
  connection: local
  gather_facts: false

  vars_files:
    - vars.yml

  tasks:
    - name: Create ipblock
      ionos_cloud_ipblock:
          name: ansible test
          location: "{{ location }}"
          size: 2
          state: present

    - name: Update ipblock
      ionos_cloud_ipblock:
        name: ansible test
        location: "{{ location }}"
        state: update

    - name: Remove ipblock
      ionos_cloud_ipblock:
          name: ansible test
          state: absent